/*
Copyright 2021 semicontinuity

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

#include "keymap.h"

#include QMK_KEYBOARD_H
#include "casemodes.h"
#include "layouts.h"
#include <stdio.h>


const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [ENGRAM] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_B,         KC_Y,         KC_O,         KC_U,               XXXXXXX,                                                XXXXXXX,            LT(F_S,KC_L),     LT(F_C,KC_D),  LT(F_A,KC_W),  KC_V,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      LGUI_T(KC_C), LALT_T(KC_I), LCTL_T(KC_E), LSFT_T(KC_A),       XXXXXXX,          KC_Z,                 KC_Q,           XXXXXXX,            LSFT_T(KC_H),     RCTL_T(KC_T),  LALT_T(KC_S),  RGUI_T(KC_N),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_G,         RALT_T(KC_X), KC_J,         KC_K,               XXXXXXX,                                                XXXXXXX,            KC_R,             KC_M,          RALT_T(KC_F),  KC_P,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                LT(MOUSE, KC_ESC),                                                                              LT(FUNC, KC_DEL),
                                  KC_SPACE,     TD(TD_RAISE),       KC_DOT,                                                 KC_LSFT,            TD(TD_LOWER),     KC_ENT,
                                                LT(MULTI, KC_TAB),                                                                              LT(NUM, KC_BSPC)
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


  // Engram TURBO layer: these character keys lose their double-purpose and become ordinary keys
    [ENGRAM_T] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      _______,      _______,      _______,      _______,            _______,                                                _______,            KC_L,             KC_D,          KC_W,          _______,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      _______,      KC_I,         KC_E,         KC_A,               _______,          _______,           _______,           _______,            KC_H,             KC_T,          KC_S,          KC_N,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      _______,      KC_X,         KC_J,         KC_K,               _______,                                                _______,            _______,          _______,       KC_F,          _______,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                _______,                                                                                        _______,
                                  _______,      _______,            _______,                                                _______,            _______,          _______,
                                                _______,                                                                                        _______
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


  // QWERTY is not available, not enough keys
    [QWERTY] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      XXXXXXX,      XXXXXXX,      XXXXXXX,      XXXXXXX,            XXXXXXX,                                                XXXXXXX,            XXXXXXX,          XXXXXXX,       XXXXXXX,       XXXXXXX,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      XXXXXXX,      XXXXXXX,      XXXXXXX,      XXXXXXX,            XXXXXXX,          XXXXXXX,           XXXXXXX,           XXXXXXX,            XXXXXXX,          XXXXXXX,       XXXXXXX,       XXXXXXX,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      XXXXXXX,      XXXXXXX,      XXXXXXX,      XXXXXXX,            XXXXXXX,                                                XXXXXXX,            XXXXXXX,          XXXXXXX,       XXXXXXX,       XXXXXXX,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                XXXXXXX,                                                                                        XXXXXXX,
                                  KC_SPACE,     XXXXXXX,            XXXXXXX,                                                XXXXXXX,            XXXXXXX,          XXXXXXX,
                                                XXXXXXX,                                                                                        XXXXXXX
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


  // TODO
    [RPE] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_B,         KC_Y,         KC_O,         KC_U,               XXXXXXX,                                                XXXXXXX,            LT(F_S,KC_L),     LT(F_C,KC_D),  LT(F_A,KC_W),  KC_V,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      LGUI_T(KC_C), LALT_T(KC_I), LCTL_T(KC_E), LSFT_T(KC_A),       XXXXXXX,          KC_P,                 KC_X,           XXXXXXX,            LSFT_T(KC_H),     RCTL_T(KC_T),  LALT_T(KC_S),  RGUI_T(KC_N),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_G,         RALT_T(KC_X), KC_J,         KC_K,               XXXXXXX,                                                XXXXXXX,            KC_R,             KC_M,          RALT_T(KC_F),  KC_P,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                _______,                                                                                        _______,
                                  _______,      _______,            _______,                                                _______,            _______,         _______,
                                                _______,                                                                                        _______
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


    [LOWER] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_EXLM,      KC_LT,        KC_GT,        KC_AMPR,            XXXXXXX,                                                XXXXXXX,            KC_AT,            KC_RBRACKET,   KC_LBRACKET,   KC_GRAVE,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_MINUS,     KC_LPRN,      KC_RPRN,      KC_EQUAL,           XXXXXXX,          KC_CIRC,              KC_TILDE,       XXXXXXX,            KC_SCOLON,        KC_RCBR,       KC_LCBR,       KC_DQUO,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_PLUS,      KC_ASTERISK,  KC_SLASH,     KC_PIPE,            XXXXXXX,                                                XXXXXXX,            KC_COLON,         KC_DOLLAR,     KC_PERC,       KC_QUOTE,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                KC_HASH,                                                                                        KC_0,
                                  KC_SPACE,     KC_UNDS,            KC_QUES,                                                KC_2,               XXXXXXX,          KC_COMMA,
                                                KC_BSLASH,                                                                                      KC_1
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


  // TODO
    [R_LOWER] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_EXLM,      KC_LT,        KC_GT,        KC_AMPR,            XXXXXXX,                                                XXXXXXX,            KC_AT,            KC_RBRACKET,   KC_LBRACKET,   KC_GRAVE,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_MINUS,     KC_LPRN,      KC_RPRN,      KC_EQUAL,           XXXXXXX,          KC_CIRC,              KC_TILDE,       XXXXXXX,            KC_SCOLON,        KC_RCBR,       KC_LCBR,       KC_DQUO,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_PLUS,      KC_ASTERISK,  KC_SLASH,     KC_PIPE,            XXXXXXX,                                                XXXXXXX,            KC_COLON,         KC_DOLLAR,     KC_PERC,       KC_QUOTE,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                KC_HASH,                                                                                        KC_0,
                                  KC_SPACE,     KC_UNDS,            KC_2,                                                   XXXXXXX,            XXXXXXX,          KC_DOT,
                                                KC_BSLASH,                                                                                      KC_1
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


  // TODO
    [MULTI] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_B,         KC_Y,         KC_O,         KC_U,               XXXXXXX,                                                XXXXXXX,            LT(F_S,KC_L),     LT(F_C,KC_D),  LT(F_A,KC_W),  KC_V,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      LGUI_T(KC_C), LALT_T(KC_I), LCTL_T(KC_E), LSFT_T(KC_A),       XXXXXXX,          KC_Z,                 KC_Q,           XXXXXXX,            LSFT_T(KC_H),     RCTL_T(KC_T),  LALT_T(KC_S),  RGUI_T(KC_N),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_G,         RALT_T(KC_X), KC_J,         KC_K,               XXXXXXX,                                                XXXXXXX,            KC_R,             KC_M,          RALT_T(KC_F),  KC_P,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                LT(MULTI, KC_TAB),                                                                              LT(FUNC, KC_DEL),
                                  KC_SPACE,     TD(TD_RAISE),       KC_COMMA,                                               KC_DOT,             TD(TD_LOWER),     KC_ENT,
                                                LT(MOUSE, KC_ESC),                                                                              LT(NUM, KC_BSPC)
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),



  // TODO
    [MOUSE] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_B,         KC_Y,         KC_O,         KC_U,               XXXXXXX,                                                XXXXXXX,            LT(F_S,KC_L),     LT(F_C,KC_D),  LT(F_A,KC_W),  KC_V,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      LGUI_T(KC_C), LALT_T(KC_I), LCTL_T(KC_E), LSFT_T(KC_A),       XXXXXXX,          KC_Z,                 KC_Q,           XXXXXXX,            LSFT_T(KC_H),     RCTL_T(KC_T),  LALT_T(KC_S),  RGUI_T(KC_N),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_G,         RALT_T(KC_X), KC_J,         KC_K,               XXXXXXX,                                                XXXXXXX,            KC_R,             KC_M,          RALT_T(KC_F),  KC_P,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                LT(MULTI, KC_TAB),                                                                              LT(FUNC, KC_DEL),
                                  KC_SPACE,     TD(TD_RAISE),       KC_COMMA,                                               KC_DOT,             TD(TD_LOWER),     KC_ENT,
                                                LT(MOUSE, KC_ESC),                                                                              LT(NUM, KC_BSPC)
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),



  // TODO
    [FUNC] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_B,         KC_Y,         KC_O,         KC_U,               XXXXXXX,                                                XXXXXXX,            LT(F_S,KC_L),     LT(F_C,KC_D),  LT(F_A,KC_W),  KC_V,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      LGUI_T(KC_C), LALT_T(KC_I), LCTL_T(KC_E), LSFT_T(KC_A),       XXXXXXX,          KC_Z,                 KC_Q,           XXXXXXX,            LSFT_T(KC_H),     RCTL_T(KC_T),  LALT_T(KC_S),  RGUI_T(KC_N),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_G,         RALT_T(KC_X), KC_J,         KC_K,               XXXXXXX,                                                XXXXXXX,            KC_R,             KC_M,          RALT_T(KC_F),  KC_P,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                LT(MULTI, KC_TAB),                                                                              LT(FUNC, KC_DEL),
                                  KC_SPACE,     TD(TD_RAISE),       KC_COMMA,                                               KC_DOT,             TD(TD_LOWER),     KC_ENT,
                                                LT(MOUSE, KC_ESC),                                                                              LT(NUM, KC_BSPC)
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


  // TODO
    [NUM] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_B,         KC_Y,         KC_O,         KC_U,               XXXXXXX,                                                XXXXXXX,            LT(F_S,KC_L),     LT(F_C,KC_D),  LT(F_A,KC_W),  KC_V,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      LGUI_T(KC_C), LALT_T(KC_I), LCTL_T(KC_E), LSFT_T(KC_A),       XXXXXXX,          KC_Z,                 KC_Q,           XXXXXXX,            LSFT_T(KC_H),     RCTL_T(KC_T),  LALT_T(KC_S),  RGUI_T(KC_N),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_G,         RALT_T(KC_X), KC_J,         KC_K,               XXXXXXX,                                                XXXXXXX,            KC_R,             KC_M,          RALT_T(KC_F),  KC_P,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                LT(MULTI, KC_TAB),                                                                              LT(FUNC, KC_DEL),
                                  KC_SPACE,     TD(TD_RAISE),       KC_COMMA,                                               KC_DOT,             TD(TD_LOWER),     KC_ENT,
                                                LT(MOUSE, KC_ESC),                                                                              LT(NUM, KC_BSPC)
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


    [NAV2] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      A(KC_LEFT),   A(KC_DOWN),   A(KC_UP),     A(KC_RIGHT),        XXXXXXX,                                                XXXXXXX,            A(KC_HOME),       A(KC_PGDOWN),  A(KC_PGUP),    A(KC_END),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      C(KC_LEFT),   C(KC_DOWN),   C(KC_UP),     C(KC_RIGHT),        XXXXXXX,          C(KC_C),              C(KC_V),        XXXXXXX,            KC_LEFT,          KC_DOWN,       KC_UP,         KC_RIGHT,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      C(KC_HOME),   C(KC_PGDOWN), C(KC_PGUP),   C(KC_END),          XXXXXXX,                                                XXXXXXX,            KC_HOME,          KC_PGDOWN,     KC_PGUP,       KC_END,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                KC_TAB,                                                                                         XXXXXXX,
                                  C(KC_ENT),    KC_ALT_ERASE,       KC_COMMA,                                               XXXXXXX,            TT(S_NAV2),       KC_ENT,
                                                KC_ESC,                                                                                         XXXXXXX
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),



    [S_NAV2] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      A_S(KC_LEFT),A_S(KC_DOWN),  A_S(KC_UP),   A_S(KC_RIGHT),        XXXXXXX,                                                XXXXXXX,            A_S(KC_HOME),     A_S(KC_PGDOWN),A_S(KC_PGUP),  A_S(KC_END),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      C_S(KC_LEFT),C_S(KC_DOWN),  C_S(KC_UP),   C_S(KC_RIGHT),        XXXXXXX,          C_S(KC_C),            C_S(KC_V),      XXXXXXX,            S(KC_LEFT),       S(KC_DOWN),    S(KC_UP),      S(KC_RIGHT),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      C_S(KC_HOME),C_S(KC_PGDOWN),C_S(KC_PGUP), C_S(KC_END),          XXXXXXX,                                                XXXXXXX,            S(KC_HOME),       KC_PGDOWN,     KC_PGUP,       KC_END,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                A(KC_TAB),                                                                                      XXXXXXX,
                                  XXXXXXX,      KC_ALT_ERASE,         XXXXXXX,                                                XXXXXXX,          TT(S_NAV2),       XXXXXXX,
                                                A(KC_ESC),                                                                                      XXXXXXX
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),





  // TODO
    [F_A] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_B,         KC_Y,         KC_O,         KC_U,               XXXXXXX,                                                XXXXXXX,            LT(F_S,KC_L),     LT(F_C,KC_D),  LT(F_A,KC_W),  KC_V,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      LGUI_T(KC_C), LALT_T(KC_I), LCTL_T(KC_E), LSFT_T(KC_A),       XXXXXXX,          KC_Z,                 KC_Q,           XXXXXXX,            LSFT_T(KC_H),     RCTL_T(KC_T),  LALT_T(KC_S),  RGUI_T(KC_N),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_G,         RALT_T(KC_X), KC_J,         KC_K,               XXXXXXX,                                                XXXXXXX,            KC_R,             KC_M,          RALT_T(KC_F),  KC_P,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                LT(MULTI, KC_TAB),                                                                              LT(FUNC, KC_DEL),
                                  KC_SPACE,     TD(TD_RAISE),       KC_COMMA,                                               KC_DOT,             TD(TD_LOWER),     KC_ENT,
                                                LT(MOUSE, KC_ESC),                                                                              LT(NUM, KC_BSPC)
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


  // TODO
    [ENGRAM_WIN] = LAYOUT_split_3x5_plus_5x(
  //,--------------------------------------------------------------------------.                                          ,----------------------------------------------------------------------------------.
      KC_B,         KC_Y,         KC_O,         KC_U,               XXXXXXX,                                                XXXXXXX,            LT(F_S,KC_L),     LT(F_C,KC_D),  LT(F_A,KC_W),  KC_V,
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      LGUI_T(KC_C), LALT_T(KC_I), LCTL_T(KC_E), LSFT_T(KC_A),       XXXXXXX,          KC_Z,                 KC_Q,           XXXXXXX,            LSFT_T(KC_H),     RCTL_T(KC_T),  LALT_T(KC_S),  RGUI_T(KC_N),
  //|-------------+-------------+-------------+-------------------+------------|                                          |-------------------+-----------------+--------------+--------------+--------------|
      KC_G,         RALT_T(KC_X), KC_J,         KC_K,               XXXXXXX,                                                XXXXXXX,            KC_R,             KC_M,          RALT_T(KC_F),  KC_P,
  //|-------------+-------------+-------------+-------------------+------------+-------------------|  |-------------------+-------------------+-----------------+--------------+--------------+--------------|


                                                LT(MULTI, KC_TAB),                                                                              LT(FUNC, KC_DEL),
                                  KC_SPACE,     TD(TD_RAISE),       KC_COMMA,                                               KC_DOT,             TD(TD_LOWER),     KC_ENT,
                                                LT(MOUSE, KC_ESC),                                                                              LT(NUM, KC_BSPC)
                              //`----------------------------------------------'                                          `----------------------------------------------------'
  ),


};
